store updates in a separate struct and swap structs over after an update to avoid partial updates